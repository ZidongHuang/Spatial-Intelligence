# Spatial Intelligence

## OVERVIEW
#### This is the final project "Spatial Intelligence" for MIT-6.859 in spring 2021. We are Fei Xiong, Zidong Huang and Zihui Zhang.

#### â˜ï¸ [Visualization Website](http://18.166.102.28:5000/) 
>ðŸš¨ _Please use CHROME Browser and set the zoom rate to 100% for best performance. The AWS Server hosting this site is located in HongKong, so the loading speed might vary according to your location._ 
>
> Build Locally:
>```
>npm install
>npm start
>```
#### ðŸ“„ [Link to Full Paper](https://github.com/6859-sp21/final-project-spatial-intelligence/blob/main/6_859_spatial_intelligence_finalpaper.pdf) 


## COMMENTARY ON PROCESS
#### Ideation
Based on our A4, we intended to expand the visualization scope of the final project to meet the needs of the shopping mall managers more comprehensively. We reorganize the complex information and divided them into three progressive layers: 
1. The mall's daily customer flow data overview, categorized by customer type and store type
2. The mall's monthly customer flow trend, categorized by customer type, but now down to the level of every single store
3. The detailed customer flow data of each single store with adjustable customer type and time period

The three layers were designed to provide managers insights in a progressive way, enabling them to both quickly grasp an overview and access enough details with further interactions.
#### Data Collection
The data we used is generated by the 400 surveillance cameras of the HopsonOne Mall in Beijing, China. Firstly, we took some measures to desensitize data, in compliance with local policy and laws. Secondly, we took out two exiting tables, the store information table, 

![Stores Table](https://github.com/6859-sp21/a4-spatial_intelligence-1/blob/main/data/stores.jpg)


and the KPIs table of each store on a daily basis. The KPIs include gender, age, acessories, entering, passing, etc.

![Kpis Daily Table](https://github.com/6859-sp21/a4-spatial_intelligence-1/blob/main/data/kpis_daily.jpg)

Thirdly, we did some basic cleaning, filtered out 0 and null values. Also, in order for the visualization not to be too crowded, we went through a selection process. We selected the data range with fewer missing values and outliers. Similarly, we only selected a few customer tags that have a perceptible difference like female, teenager, enter rate. At last, we translated, joined, and converted the data and got this final table.

![Final Table](https://github.com/6859-sp21/a4-spatial_intelligence-1/blob/main/data/final_table.jpg)

#### Visual Encoding and Interaction Design
The overall principle for designing the visual encoding was to present the complex information in a progressive way by reasonable reorganization to help the management team understand current situation quickly and generate detailed insights with further interaction. It should be able to provide both an overview and enough details. To achieve the goal, we designed three separate but internally connected parts: a sankey particle chart, a bubble chart, and a 3D model. 

![Sankey Particle Chart](https://user-images.githubusercontent.com/60722129/118685024-509a5080-b835-11eb-9a7a-ba12733dd9cf.jpg)

The sankey particle chart was designed to provide the most straightforward information about the overall customer flow in a designated day. The larger the volume, the wider the link and the faster and denser the particles. Users can choose the categorization of customers (there are two choices in current version: Gender and Age) and any date they are interested in to control the information displayed. By hovering on the the link or the node, the exact number of a certain link or node will be displayed to provide more details. This chart provides answers to general questions about the mall, e.g. "where did men mostly go?", or "what was the majority visiting fashion stores, young people or seniors?", which will help the management team grasp an overview of the current situation. We intentionally kept the graph abstracted to help the user focus. More details will be provided in the next graphs. 

![summary_02](https://user-images.githubusercontent.com/60722129/118686143-52184880-b836-11eb-93c1-3816418bc98a.png)

The bubble chart further provides information about the trend of each store's customer flow through a period of time. Users can designate a specific customer type, and then the chart will display the flow data of this type of each store in the form of discrete bubbles. By hovering on a specific bubble, the trendline of the specific store will be displayed. And by clicking on it, users are able to keep the trendline stay for comparison. The design intention here was to allow users to control the visibility of key information thus to reduce distractions. This chart will further help the management team understand the trend of a certain customers type in the individual store level, which will generate more detailed insights for them.

![summary_03](https://user-images.githubusercontent.com/60722129/118686198-5f353780-b836-11eb-919f-3bd5d70dbb43.png)

The last 3D model was designed to bring the management team into the most fundamental level of a single store to examine its data in a thorough way. Different from the previous two which both contain overviews, this one was designed to only focus on the designated object. The reason to adopt a 3D model was that it can provide unique location information that no other chart can provide, which is critical when analyzing a specific store. 

The three charts together are to help the management team understand the customer flow from different but progressive levels.

#### For more detailes, please refer to our [full paper](https://github.com/6859-sp21/final-project-spatial-intelligence/blob/main/6_859_spatial_intelligence_finalpaper.pdf).


## WORK DIVISION
##### Fei Xiong:    
âœ… Data Processing âœ… 3D Model âœ… Bubble Chart âœ… "Introduction" + "Related Work" of Paper

##### Zidong Huang: 
âœ… Data Processing âœ… Sankey Particle Chart âœ… Bubble Chart âœ… "Methods" of Paper

##### Zihui Zhang:  
âœ… Overall Visual Design âœ… Project Page âœ… Bubble Chart âœ… Video Teaser âœ… "Results" + "Discussion" + "Future Work" + "Conclusion" of Paper

